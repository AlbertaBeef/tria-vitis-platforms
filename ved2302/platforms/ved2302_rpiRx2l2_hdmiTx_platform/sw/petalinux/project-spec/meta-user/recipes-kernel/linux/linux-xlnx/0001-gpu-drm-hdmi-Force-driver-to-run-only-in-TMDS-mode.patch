From e1decc7e03b01688ff5f7858c45280070e72be04 Mon Sep 17 00:00:00 2001
From: Sai Krishna Musham <sai.krishna.musham@amd.com>
Date: Mon, 31 Jul 2023 04:18:15 -0600
Subject: [PATCH] gpu: drm: hdmi: Force driver to run only in TMDS mode

Signed-off-by: Sai Krishna Musham <sai.krishna.musham@amd.com>
---
 drivers/gpu/drm/xlnx/xlnx_hdmi.c | 3 +--
 1 file changed, 1 insertion(+), 2 deletions(-)

diff --git a/drivers/gpu/drm/xlnx/xlnx_hdmi.c b/drivers/gpu/drm/xlnx/xlnx_hdmi.c
index 381c8c25f752..3c11d7ce88fe 100644
--- a/drivers/gpu/drm/xlnx/xlnx_hdmi.c
+++ b/drivers/gpu/drm/xlnx/xlnx_hdmi.c
@@ -2472,8 +2472,7 @@ xlnx_hdmi_get_edid_block(void *data, u8 *buf, unsigned int block,
 	}
 
 	memcpy(buf, buffer + block * 128, len);
-	if (buffer[HDMI_TX_DDC_EDID_SINK_BW] >> HDMI_TX_DDC_EDID_BW_SHIFT)
-		hdmi->stream.is_frl = 1;
+	hdmi->stream.is_frl = 0;
 
 	kfree(buffer);
 	return 0;
-- 
2.17.1

