#include <dt-bindings/media/xilinx-vip.h>
/include/ "system-conf.dtsi"
/ {
	chosen {
		bootargs = "console=ttyAMA0  earlycon=pl011,mmio32,0xFF000000,115200n8 clk_ignore_unused root=/dev/mmcblk0p2 rw rootwait";
		stdout-path = "serial0:115200n8";
	};

	memorynoc_ddr4: memory@0 {
		device_type = "memory";
		reg = <0x0 0x00000000 0x0 0x80000000>, <0x8 0x00000000 0x0 0x80000000>;
	};

	memorynoc_lpddr4: memory@50000000000 {
		device_type = "memory";
		reg = <0x00000500 0x00000000 0x00000002 0x00000000>;
	};

	reserved-memory {
		#address-cells = <2>;
		#size-cells = <2>;
		ranges;

		video_reserved: cap_buf@0 {
			compatible = "shared-dma-pool";
			reg = <0x8 0x0 0x0 0x80000000>;
			reusable;
		};

		reserved: buffer@0 {
			compatible = "shared-dma-pool";
			reusable;
			reg = <0x500 0x0 0x2 0x0>;
			linux,cma-default;
		};
	};
};

//#include "i2c0_mux_conf.dtsi"

&amba_pl {
	imx219_clk: imx219_clk {
		#clock-cells = <0x0>;
		clock-frequency = <24000000>;
		compatible = "fixed-clock";
	};


	imx219_vana: fixedregulator@3 {
		compatible = "regulator-fixed";
		regulator-name = "imx219_vana";
		regulator-min-microvolt = <2800000>;
		regulator-max-microvolt = <2800000>;
		enable-active-high;
	};

	imx219_vdig: fixedregulator@4 {
		compatible = "regulator-fixed";
		regulator-name = "imx219_vdig";
		regulator-min-microvolt = <1800000>;
		regulator-max-microvolt = <1800000>;
	};

	imx219_vddl: fixedregulator@5 {
		compatible = "regulator-fixed";
		regulator-name = "imx219_vddl";
		regulator-min-microvolt = <1200000>;
		regulator-max-microvolt = <1200000>;
	};		

};

&i2c0 {
	status = "okay";
	i2c-mux@70 {
		compatible = "nxp,pca9548";
		status = "okay";
		#address-cells = <1>;
		#size-cells = <0>;
		reg = <0x70>;

		i2c@0 { /* SFP0 */
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <0>;
		};
		i2c@1 { /* SFP1 */
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <1>;
		};
		i2c@2 { /* MIPI4 - RPI-CAM2 */
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <2>;
			imx219_cam2: sensor@10 {
				compatible = "sony,imx219";
				reg = <0x10>;
				clocks = <&imx219_clk>;
				VANA-supply = <&imx219_vana>;   /* 2.8v */
				VDIG-supply = <&imx219_vdig>;   /* 1.8v */
				VDDL-supply = <&imx219_vddl>;   /* 1.2v */

				port {
				     imx219_cam2_0: endpoint {
					remote-endpoint = <&mipi_csi_inmipi_2_csirx_0>;
					data-lanes = <1 2>;
					link-frequencies = /bits/ 64 <456000000>;
					};
				};
			};

		};
		i2c@3 { /* MIPI3 - RPI-CAM1 */
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <3>;
			imx219_cam1: sensor@10 {
				compatible = "sony,imx219";
				reg = <0x10>;
				clocks = <&imx219_clk>;
				VANA-supply = <&imx219_vana>;   /* 2.8v */
				VDIG-supply = <&imx219_vdig>;   /* 1.8v */
				VDDL-supply = <&imx219_vddl>;   /* 1.2v */

				port {
				     imx219_cam1_0: endpoint {
					remote-endpoint = <&mipi_csi_inmipi_1_csirx_0>;
					data-lanes = <1 2>;
					link-frequencies = /bits/ 64 <456000000>;
					};
				};
			};
		};
		i2c@4 { /* MIPI2 - RPI-CAM0 */
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <4>;
			imx219_cam0: sensor@10 {
				compatible = "sony,imx219";
				reg = <0x10>;
				clocks = <&imx219_clk>;
				VANA-supply = <&imx219_vana>;   /* 2.8v */
				VDIG-supply = <&imx219_vdig>;   /* 1.8v */
				VDDL-supply = <&imx219_vddl>;   /* 1.2v */

				port {
				     imx219_cam0_0: endpoint {
					remote-endpoint = <&mipi_csi_inmipi_0_csirx_0>;
					data-lanes = <1 2>;
					link-frequencies = /bits/ 64 <456000000>;
					};
				};
			};
		};
		i2c@5 { /* MIPI5 - RPI-CAM3 */
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <5>;
			imx219_cam3: sensor@10 {
				compatible = "sony,imx219";
				reg = <0x10>;
				clocks = <&imx219_clk>;
				VANA-supply = <&imx219_vana>;   /* 2.8v */
				VDIG-supply = <&imx219_vdig>;   /* 1.8v */
				VDDL-supply = <&imx219_vddl>;   /* 1.2v */

				port {
				     imx219_cam3_0: endpoint {
					remote-endpoint = <&mipi_csi_inmipi_3_csirx_0>;
					data-lanes = <1 2>;
					link-frequencies = /bits/ 64 <456000000>;
					};
				};
			};
		};
		i2c@6 { /* MIPI0 */
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <6>;
		};
		i2c@7 { /* MIPI1 */
			#address-cells = <1>;
			#size-cells = <0>;
			reg = <7>;
		};
	};
};


#include "pl-custom.dtsi"
#include "mipi-0.dtsi"
#include "mipi-1.dtsi"
#include "mipi-2.dtsi"
#include "mipi-3.dtsi"
//#include "display.dtsi"









